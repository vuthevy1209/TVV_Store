<section class="breadcrumb_part">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="breadcrumb_iner">
                    <h2>checkout</h2>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="checkout_area section_padding">
    <div class="container">
        <div class="row">
            <div class="col-lg-7">
                <div class="container_payment">
                    <form action="">
                        <input type="hidden" id="orderId" value="{{order.hashOrderId}}">
                        <div class="row">
                            <div class="col">
                                <h3 class="title">Billing Address</h3>
                                <div class="inputBox">
                                    <span>Fullname :</span>
                                    <input type="text" id="fullname" placeholder="John Deo">
                                </div>
                                <div class="inputBox">
                                    <span>Phone no :</span>
                                    <input type="number" id="phone" placeholder="123 456 7890">
                                </div>
                                <div class="inputBox">
                                    <span>Address :</span>
                                    <input type="text" id="address" placeholder="House no - street name -Ward/Commune">
                                </div>
                                <div class="inputBox">
                                    <span>District :</span>
                                    <input type="text" id="district" placeholder="District name">
                                </div>

                                <div class="flex">
                                    <div class="inputBox">
                                        <span>Province/City</span>
                                        <select name="province" id="province" class="form-control" required onchange="updateShippingFee()">
                                            {{#each provinces}}
                                            <option value="{{this.id}}" data-fee="{{this.shippingFee}}">{{this.name}}</option>
                                            {{/each}}
                                        </select>
                                    </div>
                                    <div class="inputBox">
                                        <span>Shipping Fee :</span>
                                        <span id="shippingFee">$0.00</span>
                                        <input type="hidden" id="shippingFeeValue" name="shippingFeeValue" value="0">
                                    </div>
                                </div>
                            </div>
                            <div class="col">
                                <h3 class="title">payment</h3>
                                <div class="inputBox">
                                    <span>Cards accepted :</span>
                                    <img src="/img/card_img.png" alt="">
                                </div>
                                <div class="inputBox">
                                    <span>Payment type: </span>
                                    <select name="paymentType" id="paymentType" class="form-control">
                                        {{#each paymentTypes}}
                                        <option value="{{this.id}}">{{this.name}}</option>
                                        {{/each}}
                                    </select>
                                </div>

                            </div>
                        </div>

                        <input type="submit" value="Confirm purchase" class="submit-btn" id="confirmPurchaseBtn">

                    </form>

                </div>
            </div>
            <div class="col-lg-5">
                {{#if order}}
                <div class="order_box">
                    <h2>Your order</h2>
                    <ul class="list">
                        <li>
                            <a href="#">Product
                                <span>Total</span>
                            </a>
                        </li>
                        {{#each order.orderItems}}
                        <li>
                            <a href="#">{{this.product.name}}
                                <span class="middle">x {{this.quantity}}</span>
                                <span class="last">${{this.product_price}}</span>
                            </a>
                        </li>
                        {{/each}}
                    </ul>
                    <ul class="list list_2">
                        <li>
                            <a href="#">Subtotal
                                <span>${{order.total_price}}</span>
                            </a>
                        </li>
                        <li>
                            <a href="#">Shipping
                                <span id="shippingFeeSummary">$0.00</span>
                            </a>
                        </li>
                        <li>
                            <a href="#">Total
                                <span id="totalPrice">${{order.total_price}}</span>
                            </a>
                        </li>
                    </ul>
                    <div class="creat_account">
                        <input type="checkbox" id="f-option4" name="selector" />
                        <label for="f-option4">Iâ€™ve read and accept the </label>
                        <a href="#">terms & conditions*</a>
                    </div>
                </div>
                {{/if}}
            </div>
        </div>
    </div>
</section>

<!-- Modal for VNPay confirmation -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content" style="background-color: #fefefe; padding: 20px; border: 1px solid #888; width: 80%; max-width: 500px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);">
      <span class="close" style="color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;" data-dismiss="modal">&times;</span>
      <h3 class="title">VNPay</h3>
      <div class="inputBox">
          <span>Name on card :</span>
          <input type="text" id="cardName" placeholder="mr. john deo" style="width: 100%; padding: 10px; margin: 5px 0; box-sizing: border-box;">
      </div>
      <div class="inputBox">
          <span>Credit card number :</span>
          <input type="number" id="cardNumber" placeholder="1111-2222-3333-4444" style="width: 100%; padding: 10px; margin: 5px 0; box-sizing: border-box;">
      </div>
      <div class="inputBox">
          <span>Exp month :</span>
          <input type="text" id="expMonth" placeholder="january" style="width: 100%; padding: 10px; margin: 5px 0; box-sizing: border-box;">
      </div>

      <div class="flex" style="display: flex; justify-content: space-between;">
          <div class="inputBox" style="flex: 1; margin-right: 10px;">
              <span>Exp year :</span>
              <input type="number" id="expYear" placeholder="2022" style="width: 100%; padding: 10px; margin: 5px 0; box-sizing: border-box;">
          </div>
          <div class="inputBox" style="flex: 1;">
              <span>CVV :</span>
              <input type="text" id="cvv" placeholder="1234" style="width: 100%; padding: 10px; margin: 5px 0; box-sizing: border-box;">
          </div>
      </div>
      <button id="vnpayConfirmBtn" style="background-color: #4CAF50; color: white; padding: 15px 20px; margin: 10px 0; border: none; cursor: pointer; width: 100%; border-radius: 5px;">Confirm</button>
    </div>
  </div>
</div>

<link rel="stylesheet" href="/css/checkout.css">
<script src="/js/checkout.js"></script>